<html>
<head>
	<title>Ground Control</title>
	<link rel="stylesheet" href="styles.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>
</head>
<style>
	.main{width:800px;}
</style>
<body>
	<div class="navbar">
		<input type="checkbox" class="openSidebarMenu" id="openSidebarMenu">
		<label for="openSidebarMenu" class="sidebarIconToggle">
			<div class="spinner diagonal part-1"></div>
			<div class="spinner horizontal"></div>
			<div class="spinner diagonal part-2"></div>
		</label>
		<div id="sidebarMenu">
			<ul class="sidebarMenuInner">
				<li><a href="index.html">Ground Control</p></a></li>
				<li><a href="errors.html">Edit Errors</p></a></li>
				<li><a href="sensors.html">Adjust Sensors</p></a></li>
				<li><a href="users.html">Manage Users</p></a></li>
			</ul>
		</div>
		<div class="navbarLogout">
			<a href="logout">Logout</a>
		</div>
	</div>
	
	<center>
	<div class="main">
		<div>
			<canvas id="line-chart" width="800" height="450"></canvas>
			<canvas id="bline-chart" width="800" height="450"></canvas>
			<canvas id="cline-chart" width="800" height="450"></canvas>
	    </div>
		
		<!--><div>
			Show/Hide Velocity: <input type="checkbox" id="velCheck" onclick="">
		</div><-->
		
		<script>
			var ctx = (document.getElementById("line-chart")).getContext('2d');
			var velData = { 
				data: [28, 48, 40, 19, 86, 27, 90],
				label: "Velocity",
				borderColor: "#8e5ea2",
				fill: false
			}
			var startingData = {
				labels: [1, 2, 3, 4, 5, 6, 7],
					datasets: [
					{ 
						data: [65, 59, 80, 81, 56, 55, 40],
						label: "Acceleration",
						borderColor: "#3e95cd",
						fill: false
					},
					velData
					]
			};
			
			var myChart = new Chart(ctx, {
				type: 'line',
				data: startingData,
				options: {
					title: {
						display: true,
						text: 'Live Drop Data'
					}
				}
			});
			
			ctx = (document.getElementById("bline-chart")).getContext('2d');
			var mybChart = new Chart(ctx, {
				type: 'line',
				data: startingData,
				options: {
					title: {
						display: true,
						text: 'Live Drop Data'
					}
				}
			});
			
			ctx = (document.getElementById("cline-chart")).getContext('2d');
			var mycChart = new Chart(ctx, {
				type: 'line',
				data: startingData,
				options: {
					title: {
						display: true,
						text: 'Live Drop Data'
					}
				}
			});
			
			setInterval(function(){
				//var newReading = get_reading_run(1);
				//console.log("Reading: "+newReading);
				var indexToUpdate = Math.round(Math.random() * startingData.labels.length);
  
				// Update one of the points in the second dataset
				myChart.data.datasets[0].data[indexToUpdate] = Math.random() * 100;
				mybChart.data.datasets[0].data[indexToUpdate] = Math.random() * 100;
				mycChart.data.datasets[0].data[indexToUpdate] = Math.random() * 100;
  
				myChart.update();
				mybChart.update();
				mycChart.update();
			}, 500);
			
			//$("#velCheck").change(function() {
			//	if (this.checked)
			//	{
			//		
			//	}
			//});
			
			/*$("#btn1").on("click", function() {
				myChart.data.datasets.push(velData);
				myChart.update();
			});
			$("#btn2").on("click", function() {
				myChart.data.datasets.splice(1,1);
				myChart.update();
			});*/
		</script>
	</div>
	</center>
</body>
</html>